{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
<title>Cooking Station | Registration</title>
{% endblock %}

{% block content %}

<!-- ======= reg Section start ======= -->

<br><br><br><br>

<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">

      <div class="card my-5">
        <form class="card-body cardbody-color p-lg-5" method="POST" action="{% url 'register' %}">
          {% csrf_token %}
          <!-- customer-reg.html -->

          <!-- form image -->
          <div class="text-center">
            <img src="{% static 'assets/img/cs-logo.jpg' %}" class="img-fluid profile-image-pic img-thumbnail my-4"
              width="200px" alt="logo">
          </div>

          <!-- name input -->
          <div class="form-group">
            {{ form.name|as_crispy_field}}
          </div>

          <!-- phone number input -->
          <div class="form-group">
            {{ form.phone|as_crispy_field }}
          </div>

          <!-- email input -->
          <div class="form-group">
            {{ form.email|as_crispy_field }}
          </div>

          <!-- country input -->
          <div class="form-group">
            {{ form.country|as_crispy_field }}
          </div>

          <!-- city input -->
          <div class="form-group">
            {{ form.city|as_crispy_field }}
          </div>

          <!-- address input -->
          <div class="form-group">
            {{ form.address|as_crispy_field }}
          </div>

          <!-- plan input -->
          <div class="form-group">
            {{ form.you_are|as_crispy_field }}
          </div>

          <!-- members input (hidden by default) -->
          <div class="form-group" id="members_field" {% if special_case %}style="display: block;" {% else
            %}style="display: none;" {% endif %}>
            {{ form.members|as_crispy_field }}
          </div>

          <!-- password inputs -->
          <div class="form-group">
            {{ form.password1|as_crispy_field }}
          </div>

          <!-- password inputs -->
          <div class="form-group">
            {{ form.password2|as_crispy_field }}
          </div>

          <!-- terms inputs -->
          <div class="form-group text-center">
            <div class="center-checkbox">
              {{ form.is_agreed|as_crispy_field }}
            </div>
          </div>

          <!-- reg button -->
          <div class="text-center">
            <button class="btn btn-primary" type="submit" style="background-color: green;">Register</button>
          </div>

          <br>

          <div id="emailHelp" class="form-text text-center mb-5 text-dark">Already Registered? <a
              href="{% url 'login' %}" class="text-dark fw-bold">Login Your Account</a></div>
        </form>

      </div>

    </div>
  </div>
</div>

<!-- End reg Section -->


<br><br><br><br>

<br><br><br><br>


<script>
  var youAreField = document.getElementById("{{ form.you_are.auto_id }}");
  var membersField = document.getElementById("members_field");

  function toggleMembersField() {
    if (youAreField.value === "Family") {
      membersField.style.display = "block";
    } else {
      membersField.style.display = "none";
    }
  }

  toggleMembersField();

  youAreField.addEventListener("change", toggleMembersField);
</script>

{% endblock %}